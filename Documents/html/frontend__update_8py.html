<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Weather Monitoring: Frontend/frontend_update.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Weather Monitoring
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('frontend__update_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">frontend_update.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="frontend__update_8py_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacefrontend__update" id="r_namespacefrontend__update"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html">frontend_update</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97fd40664bc7cfb18d6d7759bb0f548b" id="r_a97fd40664bc7cfb18d6d7759bb0f548b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a97fd40664bc7cfb18d6d7759bb0f548b">frontend_update.fetch_openweather_data</a> (<a class="el" href="namespacefrontend__update.html#a3acb9fafb96b85c19919a7e7d84675d2">city</a>)</td></tr>
<tr class="memdesc:a97fd40664bc7cfb18d6d7759bb0f548b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch current weather data from OpenWeather API.  <br /></td></tr>
<tr class="separator:a97fd40664bc7cfb18d6d7759bb0f548b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c85d744e929d9f1b2895250edf56c25" id="r_a1c85d744e929d9f1b2895250edf56c25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a1c85d744e929d9f1b2895250edf56c25">frontend_update.fetch_esp_data</a> ()</td></tr>
<tr class="memdesc:a1c85d744e929d9f1b2895250edf56c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve environmental data from backend ESP nodes.  <br /></td></tr>
<tr class="separator:a1c85d744e929d9f1b2895250edf56c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157e071b3a485a21b612f93d77fbd8c4" id="r_a157e071b3a485a21b612f93d77fbd8c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a157e071b3a485a21b612f93d77fbd8c4">frontend_update.get_weather_emoji</a> (<a class="el" href="namespacefrontend__update.html#a2ba2680e02978111c7312f0463f6965a">temp</a>, <a class="el" href="namespacefrontend__update.html#aedce4cc864b7c7c92151d84e803620a5">hum</a>)</td></tr>
<tr class="memdesc:a157e071b3a485a21b612f93d77fbd8c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine weather emoji based on temperature and humidity.  <br /></td></tr>
<tr class="separator:a157e071b3a485a21b612f93d77fbd8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f89ca40cf37ac36f695a90905c51a05" id="r_a3f89ca40cf37ac36f695a90905c51a05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a3f89ca40cf37ac36f695a90905c51a05">frontend_update.render_footer</a> ()</td></tr>
<tr class="memdesc:a3f89ca40cf37ac36f695a90905c51a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the GitHub project footer with hover animation and SVG icon.  <br /></td></tr>
<tr class="separator:a3f89ca40cf37ac36f695a90905c51a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a776cd2c9f35e2ea0f1435d21b1db4cc9" id="r_a776cd2c9f35e2ea0f1435d21b1db4cc9"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a776cd2c9f35e2ea0f1435d21b1db4cc9">frontend_update.BACKEND_URL</a> = &quot;http://localhost:8000/data&quot;</td></tr>
<tr class="memdesc:a776cd2c9f35e2ea0f1435d21b1db4cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend API endpoint for ESP sensor data.  <br /></td></tr>
<tr class="separator:a776cd2c9f35e2ea0f1435d21b1db4cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4fce23114c30f90de9e72c4f6a4553" id="r_acf4fce23114c30f90de9e72c4f6a4553"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#acf4fce23114c30f90de9e72c4f6a4553">frontend_update.OPENWEATHER_API</a> = &quot;https://openweathermap.org/data/2.5/weather&quot;</td></tr>
<tr class="memdesc:acf4fce23114c30f90de9e72c4f6a4553"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base URL for OpenWeather public API.  <br /></td></tr>
<tr class="separator:acf4fce23114c30f90de9e72c4f6a4553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d00a1fb26219c67f923ee1b6739f83d" id="r_a5d00a1fb26219c67f923ee1b6739f83d"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a5d00a1fb26219c67f923ee1b6739f83d">frontend_update.OPENWEATHER_KEY</a> = &quot;439d4b804bc8187953eb36d2a8c26a02&quot;</td></tr>
<tr class="memdesc:a5d00a1fb26219c67f923ee1b6739f83d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Demo API key for OpenWeather API.  <br /></td></tr>
<tr class="separator:a5d00a1fb26219c67f923ee1b6739f83d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc022dd91d99494a6ad086a0e619177" id="r_a1fc022dd91d99494a6ad086a0e619177"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a1fc022dd91d99494a6ad086a0e619177">frontend_update.page_title</a></td></tr>
<tr class="memdesc:a1fc022dd91d99494a6ad086a0e619177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure Streamlit application layout and appearance.  <br /></td></tr>
<tr class="separator:a1fc022dd91d99494a6ad086a0e619177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc82edf35fc263707c1a115558628e32" id="r_abc82edf35fc263707c1a115558628e32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#abc82edf35fc263707c1a115558628e32">frontend_update.layout</a></td></tr>
<tr class="separator:abc82edf35fc263707c1a115558628e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae303daff2ba22b8540f529e71c475cc" id="r_aae303daff2ba22b8540f529e71c475cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#aae303daff2ba22b8540f529e71c475cc">frontend_update.unsafe_allow_html</a></td></tr>
<tr class="memdesc:aae303daff2ba22b8540f529e71c475cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply custom dark-themed CSS styling for the dashboard.  <br /></td></tr>
<tr class="separator:aae303daff2ba22b8540f529e71c475cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acb9fafb96b85c19919a7e7d84675d2" id="r_a3acb9fafb96b85c19919a7e7d84675d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a3acb9fafb96b85c19919a7e7d84675d2">frontend_update.city</a> = st.text_input(&quot;üåç Enter city name:&quot;, &quot;Ettimadai&quot;).strip()</td></tr>
<tr class="memdesc:a3acb9fafb96b85c19919a7e7d84675d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">User input field to select a city for OpenWeather data.  <br /></td></tr>
<tr class="separator:a3acb9fafb96b85c19919a7e7d84675d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab39ab7fd64debe58638ffa410fa51c2" id="r_aab39ab7fd64debe58638ffa410fa51c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#aab39ab7fd64debe58638ffa410fa51c2">frontend_update.placeholder</a> = st.empty()</td></tr>
<tr class="memdesc:aab39ab7fd64debe58638ffa410fa51c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Streamlit placeholder for dynamic dashboard updates.  <br /></td></tr>
<tr class="separator:aab39ab7fd64debe58638ffa410fa51c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c190857fec1da200982ee78a67cbbc6" id="r_a1c190857fec1da200982ee78a67cbbc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a1c190857fec1da200982ee78a67cbbc6">frontend_update.cols_top</a> = st.columns([3, 2])</td></tr>
<tr class="memdesc:a1c190857fec1da200982ee78a67cbbc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continuous dashboard update loop.  <br /></td></tr>
<tr class="separator:a1c190857fec1da200982ee78a67cbbc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36bf6012490bd2371d7a1c56c70502e2" id="r_a36bf6012490bd2371d7a1c56c70502e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">frontend_update.ow_data</a> = <a class="el" href="namespacefrontend__update.html#a97fd40664bc7cfb18d6d7759bb0f548b">fetch_openweather_data</a>(<a class="el" href="namespacefrontend__update.html#a3acb9fafb96b85c19919a7e7d84675d2">city</a>)</td></tr>
<tr class="separator:a36bf6012490bd2371d7a1c56c70502e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba2680e02978111c7312f0463f6965a" id="r_a2ba2680e02978111c7312f0463f6965a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a2ba2680e02978111c7312f0463f6965a">frontend_update.temp</a> = <a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">ow_data</a>[&quot;main&quot;][&quot;temp&quot;]</td></tr>
<tr class="separator:a2ba2680e02978111c7312f0463f6965a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedce4cc864b7c7c92151d84e803620a5" id="r_aedce4cc864b7c7c92151d84e803620a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#aedce4cc864b7c7c92151d84e803620a5">frontend_update.hum</a> = <a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">ow_data</a>[&quot;main&quot;][&quot;humidity&quot;]</td></tr>
<tr class="separator:aedce4cc864b7c7c92151d84e803620a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27779f5238aab17f7ca5d0a335ec0001" id="r_a27779f5238aab17f7ca5d0a335ec0001"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a27779f5238aab17f7ca5d0a335ec0001">frontend_update.wind</a> = <a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">ow_data</a>[&quot;wind&quot;][&quot;speed&quot;]</td></tr>
<tr class="separator:a27779f5238aab17f7ca5d0a335ec0001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1d56baaa4d2a49d31558239426c905" id="r_abd1d56baaa4d2a49d31558239426c905"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#abd1d56baaa4d2a49d31558239426c905">frontend_update.desc</a> = <a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">ow_data</a>[&quot;weather&quot;][0][&quot;description&quot;].capitalize()</td></tr>
<tr class="separator:abd1d56baaa4d2a49d31558239426c905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabb781cbf7ec971e46962b35d851458" id="r_aaabb781cbf7ec971e46962b35d851458"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#aaabb781cbf7ec971e46962b35d851458">frontend_update.icon</a> = <a class="el" href="namespacefrontend__update.html#a36bf6012490bd2371d7a1c56c70502e2">ow_data</a>[&quot;weather&quot;][0][&quot;icon&quot;]</td></tr>
<tr class="separator:aaabb781cbf7ec971e46962b35d851458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cd27ab8598d2dc1da8da8a54ee1ae3" id="r_a92cd27ab8598d2dc1da8da8a54ee1ae3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a92cd27ab8598d2dc1da8da8a54ee1ae3">frontend_update.now</a> = datetime.now()</td></tr>
<tr class="separator:a92cd27ab8598d2dc1da8da8a54ee1ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83196b5ad18ee88953519ffdc31cbd9" id="r_af83196b5ad18ee88953519ffdc31cbd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#af83196b5ad18ee88953519ffdc31cbd9">frontend_update.esp_data</a> = <a class="el" href="namespacefrontend__update.html#a1c85d744e929d9f1b2895250edf56c25">fetch_esp_data</a>()</td></tr>
<tr class="separator:af83196b5ad18ee88953519ffdc31cbd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3fe74b25176529b906421d2d25df14" id="r_aad3fe74b25176529b906421d2d25df14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#aad3fe74b25176529b906421d2d25df14">frontend_update.sorted_nodes</a> = sorted(esp_data.items(), key=lambda x: int(x[0]))</td></tr>
<tr class="separator:aad3fe74b25176529b906421d2d25df14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c7e909960b338241cdd64946d3d47a" id="r_a08c7e909960b338241cdd64946d3d47a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a08c7e909960b338241cdd64946d3d47a">frontend_update.cols</a> = st.columns(len(<a class="el" href="namespacefrontend__update.html#aad3fe74b25176529b906421d2d25df14">sorted_nodes</a>))</td></tr>
<tr class="separator:a08c7e909960b338241cdd64946d3d47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab725a42c14e11f03fb30d3cb1e3e48ab" id="r_ab725a42c14e11f03fb30d3cb1e3e48ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#ab725a42c14e11f03fb30d3cb1e3e48ab">frontend_update.timestamp</a> = node_data.get(&quot;timestamp&quot;, &quot;N/A&quot;)</td></tr>
<tr class="separator:ab725a42c14e11f03fb30d3cb1e3e48ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74062a17660a353467703d895b65889c" id="r_a74062a17660a353467703d895b65889c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefrontend__update.html#a74062a17660a353467703d895b65889c">frontend_update.emoji</a> = <a class="el" href="namespacefrontend__update.html#a157e071b3a485a21b612f93d77fbd8c4">get_weather_emoji</a>(<a class="el" href="namespacefrontend__update.html#a2ba2680e02978111c7312f0463f6965a">temp</a>, <a class="el" href="namespacefrontend__update.html#aedce4cc864b7c7c92151d84e803620a5">hum</a>)</td></tr>
<tr class="separator:a74062a17660a353467703d895b65889c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9400651e6599cfbb8f3912beec9eb75b.html">Frontend</a></li><li class="navelem"><a class="el" href="frontend__update_8py.html">frontend_update.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
